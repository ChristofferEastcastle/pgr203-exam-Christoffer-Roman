<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kristiania Questionnaire</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<main>
    <h1>Answer Question</h1>
    <h2 id="questionTitle"></h2>
    <h3 id="questionText"></h3>
    <form action="/api/answers" method="post">
        <div id="output"></div>
        <p><label>Answer: <input type="text" name="answerText"></label></p>
        <button>Submit</button>
    </form>
</main>
<script>

    const urlSearchParams = new URLSearchParams(window.location.search);

    const questionId = urlSearchParams.get("questionId");
    const questionTitle = urlSearchParams.get("questionTitle");
    const questionText = urlSearchParams.get("questionText");

    document.getElementById("questionTitle").innerHTML = questionTitle;
    document.getElementById("questionText").innerHTML = questionText;

    fetch(`api/questions?id=${questionId}`)
        .then(function(response) {
            return response.text();
        }).then(function(text) {
            document.getElementById("output").innerHTML = text;
        });
</script>

</body>
</html>